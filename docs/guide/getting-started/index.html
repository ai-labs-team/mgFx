<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">


<title data-react-helmet="true">Getting Started | mgFx</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Getting Started | mgFx"><meta data-react-helmet="true" name="description" content="This guide will demonstrate the key concepts of mgFx and how to make use of them. We&#x27;ll introduce and examine each set of concepts in each chapter, starting with the basics."><meta data-react-helmet="true" property="og:description" content="This guide will demonstrate the key concepts of mgFx and how to make use of them. We&#x27;ll introduce and examine each set of concepts in each chapter, starting with the basics."><meta data-react-helmet="true" property="og:url" content="https://ai-labs-team.github.io/mgFx/docs/guide/getting-started">

<link data-react-helmet="true" rel="shortcut icon" href="/mgFx/img/favicon.ico">


<link rel="stylesheet" href="/mgFx/styles.31fc4984.css">


<link rel="preload" href="/mgFx/styles.755188e6.js" as="script">

<link rel="preload" href="/mgFx/runtime~main.5196cf8f.js" as="script">

<link rel="preload" href="/mgFx/main.1eb1cd3b.js" as="script">

<link rel="preload" href="/mgFx/1.b76af9b1.js" as="script">

<link rel="preload" href="/mgFx/2.e5d7260f.js" as="script">

<link rel="preload" href="/mgFx/3.ed28167f.js" as="script">

<link rel="preload" href="/mgFx/1be78505.61514bf1.js" as="script">

<link rel="preload" href="/mgFx/9eb48c7c.c82fc354.js" as="script">

<link rel="preload" href="/mgFx/17896441.a32e980c.js" as="script">

<link rel="preload" href="/mgFx/d8224fc8.853cd1f8.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/mgFx/"><strong class="navbar__title">mgFx</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mgFx/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/ai-labs-team/mgFx" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/mgFx/"><strong class="navbar__title">mgFx</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" position="left" href="/mgFx/docs/intro">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/ai-labs-team/mgFx" class="menu__link" position="right">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">mgFx</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mgFx/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mgFx/docs/design-principles">Design Principles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/mgFx/docs/contributing">Contributing</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Guide</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" tabindex="0" href="/mgFx/docs/guide/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mgFx/docs/guide/validation">Validation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mgFx/docs/guide/futures">Futures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mgFx/docs/guide/task-composition">Composing Tasks</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Getting Started</h1></header><div class="markdown"><p>This guide will demonstrate the key concepts of mgFx and how to make use of them. We&#x27;ll introduce and examine each set of concepts in each chapter, starting with the basics.</p><p>In this first chapter we shall:</p><ul><li>Initialize a TypeScript-based project with the mgFx core installed.</li><li>Create an mgFx Connector, Task Definition/Implementation, wire them together and try them out.</li><li>Give an introduction to each of these components and some of mgFx&#x27;s functionality.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="project-setup"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#project-setup" title="Direct link to heading">#</a>Project Setup</h2><p>First, let&#x27;s set up a brand new NodeJS application:</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tab-item tabItem_3zTA tab-item--active">npm</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item tabItem_3zTA">Yarn</li></ul><div role="tabpanel" class="margin-vert--md"><div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> hello-mgfx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> hello-mgfx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> init -y</span></div></div></div></div></div></div></div></div><p>Then, we&#x27;ll install the core mgFx package and some other dependencies. We strongly recommend pairing mgFx with TypeScript (although not strictly required).</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tab-item tabItem_3zTA tab-item--active">npm</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item tabItem_3zTA">Yarn</li></ul><div role="tabpanel" class="margin-vert--md"><div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> mgfx typescript ts-node</span></div></div></div></div></div></div></div></div><p>Let&#x27;s start writing some code! Create a new file named <code>hello-world.ts</code> in your favourite editor and type the following:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> mgFx </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;mgfx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> connector </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">localConnector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> sayHello </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">define</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sayHello&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  input</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  output</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">connector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;World&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Before we continue, let&#x27;s take the time to look at each part of this file, why they&#x27;re there, and what the underlying concepts are...</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="basic-concepts"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#basic-concepts" title="Direct link to heading">#</a>Basic Concepts</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="connector"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#connector" title="Direct link to heading">#</a>Connector</h3><p>First, we create a <em>Connector</em> using <code>mgFx.localConnector()</code>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> connector </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">localConnector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>A <em>Connector</em> is, as the name might suggest, the way in which you connect your beautiful, clean application to the nasty, unpredictable world of Side Effects.</p><p>The <code>localConnector</code> function exported by the <code>mgfx</code> module returns a Connector that is suitable for working within the context of a single (&#x27;local&#x27;) NodeJS process.</p><p>Other Connector implementations may provide different functionality, such as the ability to work across multiple OS processes, different systems, or even different programming languages. But we&#x27;ll explore those in the later, more advanced chapters of this guide.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="task-definition"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#task-definition" title="Direct link to heading">#</a>Task Definition</h3><p>Next, we create a <em>Task Definition</em> using <code>mgFx.define()</code>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> sayHello </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">define</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sayHello&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  input</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  output</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>A <em>Task Definition</em> provides a formal &#x27;contract&#x27; regarding a <em>Task</em>. Tasks are how mgFx encapsulates behaviour that depends on and/or mutates <em>State</em> in the &#x27;outside world&#x27; - a <em>Side Effect</em>. Good examples of Tasks that encapsulate Side Effects would include:</p><ul><li>Modifying a file on disk.</li><li>Making an HTTP Request.</li><li>Executing a Database query.</li></ul><p>In most cases, a Task depends on some <em>Input</em> parameters. For example, given the above examples, some typical Inputs
might be:</p><ul><li>The <em>path</em> to a file on disk.</li><li>The <em>URL</em> and <em>method</em> of an HTTP Request.</li><li>The <em>parameters</em> to bind to a pre-prepared SQL query.</li></ul><p>In addition, it&#x27;s common for Tasks to return some <em>Output</em>, such as:</p><ul><li>The <em>contents</em> of a file.</li><li>The <em>response body</em> of an HTTP Request.</li><li>The <em>results</em> returned by a query.</li></ul><p>Observe that the <em>Spec</em> object passed into <code>mgFx.define()</code> has <code>input</code> and <code>output</code> properties. The properties are <em>Validator</em> functions that ensure:</p><ul><li>Tasks are only executed when a given Input is valid.</li><li>Tasks that return invalid Output will automatically throw an error.</li></ul><p>mgFx enforces these validation constraints at both <em>design time</em> <strong>and</strong> <em>run time</em>.</p><p>We&#x27;ll discuss Validation and types more in the next chapter, but for now observe that we use the built-in <code>mgFx.validate.string</code> to declare a Task that accepts a String as both Input and Output.</p><p>Finally, we specify a unique name for this Task Definition via the <code>name</code> field of the Spec object and assign it to <code>myTask</code>.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Task Definition names should be unique across your project, but it doesn&#x27;t matter what you name the <em>variable</em> your definition is assigned to (<code>const sayHello</code> in this case.)</p><p>We&#x27;re not too keen on this pattern and are looking for a simple but effective way of inferring the <code>name</code> property based upon assignment, but don&#x27;t have a solution <em>yet</em>.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="running-a-task"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-a-task" title="Direct link to heading">#</a>Running a Task</h3><p>Finally, we may instruct the Connector to <em>run</em> the Task as defined in <code>sayHello</code> using <code>connector.run()</code>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">connector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;World&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Notice that the Task Definition created by <code>mgFx.define()</code> previously returns a Function. Calling this Function creates a <em>Process</em> object which we may feed directly into <code>connector.run()</code>.</p><p>We&#x27;ll talk more about Process objects in a later chapter, but in most cases you&#x27;ll want to pass a Process directly into a Connector.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="go-time"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#go-time" title="Direct link to heading">#</a>Go Time!</h2><p>Let&#x27;s use the <code>ts-node</code> dependency we installed earlier to run our TypeScript file directly:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./node_modules/.bin/ts-node hello-world.ts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$</span></div></div></div></div></div><p>You may be surprised or underwhelmed to realise that running this script appears to have done absolutely nothing. This is because mgFx&#x27;s execution model is <em>lazy</em>. Calling <code>connector.run()</code> <em>prepares</em> a Task for execution, won&#x27;t actually execute anything until we <code>.fork()</code>.</p><p>Modify the end of <code>hello-world.ts</code> so that it looks like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> mgFx </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;mgfx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> connector </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">localConnector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> sayHello </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">define</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sayHello&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  input</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  output</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">connector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;World&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">fork</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Notice that we take the result of calling <code>connector.run()</code> and then call the <code>fork()</code> fluent method. We&#x27;ll talk more about this fluent interface and the <code>fork()</code> method in the next chapter, but for now accept that:</p><ul><li><code>fork()</code> accepts exactly two parameters</li><li>The first parameter passed to <code>fork()</code> will receive any error that occurred while processing the Task.</li><li>The second parameter will receive the Output that the Task returned after completing successfully.</li><li>Calling <code>fork()</code> will begin Task execution proper.</li></ul><p>Let&#x27;s try running our file again:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./node_modules/.bin/ts-node hello-world.ts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NoImplementationError: No Implementation for sayHello was found. Did you forget to call serve()?</span></div></div></div></div></div><p>We&#x27;re moving in <em>some</em> direction now, but our Connector is throwing a <code>NoImplementationError</code>. This is because we&#x27;ve told the Connector <em>which</em> Task to run, but not <em>what</em> that Task should actually do. For that, we need to provide an Implementation...</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="writing-a-task-implementation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#writing-a-task-implementation" title="Direct link to heading">#</a>Writing a Task Implementation</h2><p>In order for mgFx to actually perform a Task, we need to:</p><ul><li>Create an Implementation for an existing Task Definition</li><li>Instruct the Connector to &#x27;serve&#x27; that Implementation</li></ul><p>Modify <code>hello-world.ts</code> so that it looks like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> mgFx </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;mgfx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> connector </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">localConnector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> sayHello </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">define</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sayHello&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  input</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  output</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">validate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> sayHelloImplementation </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mgFx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">implement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">Hello, </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">!</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">connector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">serve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">sayHelloImplementation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">connector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;World&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">fork</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>First, we use <code>mgFx.implement()</code> to create a <em>Task Implementation</em> - notice that we pass in the Task Definition of <code>sayHello</code> as the first parameter, and the Function that will <em>perform</em> this Task as the second parameter.</p><p>Finally, we use <code>connector.serve()</code> to allow our Connector to use this Implementation whenever we attempt to run the <code>sayHello</code> task.</p><p>Once again, for the third time, let&#x27;s attempt to run this file:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./node_modules/.bin/ts-node hello-world.ts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Hello, World!</span></div></div></div></div></div><p>Success! Our Task was successfully executed using the string <code>&#x27;World&#x27;</code> as it&#x27;s input. The Task then returned the String <code>&#x27;Hello, World!</code> as it&#x27;s output, and was passed to the second parameter of <code>fork()</code> -- <code>console.log</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="conclusions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#conclusions" title="Direct link to heading">#</a>Conclusions</h2><p>In this first chapter we covered:</p><ul><li>How to install the mgFx core into an application.</li><li>How to create a Connector, Task Definition and Implementation, and a brief discussion of these primitives.</li><li>How to tell a Connector to <em>run</em> a Definition and how to <em>serve</em> an Implementation.</li><li>mgFx&#x27;s <em>lazy</em> execution model, and the need for <code>fork()</code>.</li></ul><p>You may now be asking these questions:</p><ul><li>Why the separation between Task Definitions and Implementations?</li><li>Why is mgFx lazy; why do I need to <code>fork()</code> at all?</li><li><code>console.log</code> is barely a Side Effect at all! When do we get to see something real?</li></ul><p>Over the subsequent chapters, we&#x27;ll incrementally increase the complexity and attempt to answer these questions and more.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ai-labs-team/mgFx/edit/master/website/docs/guide/getting-started.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/mgFx/docs/contributing"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Contributing</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/mgFx/docs/guide/validation"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Validation »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#project-setup" class="contents__link">Project Setup</a></li><li><a href="#basic-concepts" class="contents__link">Basic Concepts</a><ul><li><a href="#connector" class="contents__link">Connector</a></li><li><a href="#task-definition" class="contents__link">Task Definition</a></li><li><a href="#running-a-task" class="contents__link">Running a Task</a></li></ul></li><li><a href="#go-time" class="contents__link">Go Time!</a></li><li><a href="#writing-a-task-implementation" class="contents__link">Writing a Task Implementation</a></li><li><a href="#conclusions" class="contents__link">Conclusions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mgFx/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/mgFx/docs/guide">Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/mgFx/docs/api">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/mgFx">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/ai-labs-team/mgFx">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 mgFx Contributors. Built with Docusaurus.</div></div></div></footer>
</div>

<script src="/mgFx/styles.755188e6.js"></script>

<script src="/mgFx/runtime~main.5196cf8f.js"></script>

<script src="/mgFx/main.1eb1cd3b.js"></script>

<script src="/mgFx/1.b76af9b1.js"></script>

<script src="/mgFx/2.e5d7260f.js"></script>

<script src="/mgFx/3.ed28167f.js"></script>

<script src="/mgFx/1be78505.61514bf1.js"></script>

<script src="/mgFx/9eb48c7c.c82fc354.js"></script>

<script src="/mgFx/17896441.a32e980c.js"></script>

<script src="/mgFx/d8224fc8.853cd1f8.js"></script>


</body>
</html>